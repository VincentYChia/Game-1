{
  "metadata": {
    "version": "1.0",
    "description": "Skill unlock system - defines HOW skills become available to players",
    "note": "Works alongside Skills/skills-skills-1.JSON. Skills have requirements, this defines unlock methods."
  },

  "skillUnlocks": [
    {
      "unlockId": "unlock_miners_fury",
      "skillId": "miners_fury",
      "unlockMethod": "automatic",

      "conditions": [
        {"type": "level", "min_level": 1}
      ],

      "unlockTrigger": {
        "type": "level_up",
        "triggerValue": 1,
        "message": "You've unlocked the skill: Miner's Fury!"
      },

      "cost": {
        "gold": 0,
        "materials": [],
        "skillPoints": 0
      },

      "metadata": {
        "narrative": "Given freely to all who begin their journey into mining.",
        "category": "starter_skill"
      }
    },

    {
      "unlockId": "unlock_sprint",
      "skillId": "sprint",
      "unlockMethod": "quest_reward",

      "conditions": [
        {"type": "level", "min_level": 1},
        {"type": "quest", "required_quest": "tutorial_quest"}
      ],

      "unlockTrigger": {
        "type": "quest_complete",
        "triggerValue": "tutorial_quest",
        "message": "The Elder Sage teaches you Sprint!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Granted by the Elder Sage as reward for completing your first task.",
        "category": "quest_reward",
        "note": "Starting NPC - preserved as quest_reward"
      }
    },

    {
      "unlockId": "unlock_miners_endurance",
      "skillId": "miners_endurance",
      "unlockMethod": "quest_reward",

      "conditions": [
        {"type": "level", "min_level": 1},
        {"type": "quest", "required_quest": "gathering_quest"}
      ],

      "unlockTrigger": {
        "type": "quest_complete",
        "triggerValue": "gathering_quest",
        "message": "The Wandering Trader teaches you Miner's Endurance!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Granted by the Wandering Trader for helping gather rare ores.",
        "category": "quest_reward",
        "note": "Starting NPC - preserved as quest_reward"
      }
    },

    {
      "unlockId": "unlock_combat_strike",
      "skillId": "combat_strike",
      "unlockMethod": "quest_reward",

      "conditions": [
        {"type": "level", "min_level": 1},
        {"type": "quest", "required_quest": "combat_quest"}
      ],

      "unlockTrigger": {
        "type": "quest_complete",
        "triggerValue": "combat_quest",
        "message": "The Battle Master teaches you Combat Strike!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Granted by the Battle Master for proving your worth in combat.",
        "category": "quest_reward",
        "note": "Starting NPC - preserved as quest_reward"
      }
    },

    {
      "unlockId": "unlock_fortify",
      "skillId": "fortify",
      "unlockMethod": "quest_reward",

      "conditions": [
        {"type": "level", "min_level": 1},
        {"type": "quest", "required_quest": "combat_quest"}
      ],

      "unlockTrigger": {
        "type": "quest_complete",
        "triggerValue": "combat_quest",
        "message": "The Battle Master teaches you Fortify!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Granted by the Battle Master for proving your worth in combat.",
        "category": "quest_reward",
        "note": "Starting NPC - preserved as quest_reward"
      }
    },

    {
      "unlockId": "unlock_smiths_focus",
      "skillId": "smiths_focus",
      "unlockMethod": "milestone_unlock",

      "conditions": [
        {"type": "level", "min_level": 3},
        {"type": "stat_tracker", "stat_path": "crafting_by_discipline.smithing.total_crafts", "min_value": 10}
      ],

      "unlockTrigger": {
        "type": "activity_threshold",
        "triggerValue": 10,
        "message": "Through practice, you've developed Smith's Focus!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Discovered through dedication. Only smiths who craft many items gain this.",
        "category": "milestone_unlock"
      }
    },

    {
      "unlockId": "unlock_alchemists_insight",
      "skillId": "alchemists_insight",
      "unlockMethod": "milestone_unlock",

      "conditions": [
        {"type": "level", "min_level": 5},
        {"type": "stat", "stat_name": "INT", "min_value": 8},
        {"type": "stat_tracker", "stat_path": "crafting_by_discipline.alchemy.total_crafts", "min_value": 25}
      ],

      "unlockTrigger": {
        "type": "activity_threshold",
        "triggerValue": 25,
        "message": "Through countless experiments, you've developed Alchemist's Insight!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Discovered through dedication. Only brewers of many potions gain this.",
        "category": "milestone_unlock"
      }
    },

    {
      "unlockId": "unlock_treasure_sense",
      "skillId": "treasure_sense",
      "unlockMethod": "milestone_unlock",

      "conditions": [
        {"type": "level", "min_level": 8},
        {"type": "stat", "stat_name": "LCK", "min_value": 10},
        {"type": "stat_tracker", "stat_path": "item_collection.rare_drops_total", "min_value": 20}
      ],

      "unlockTrigger": {
        "type": "activity_threshold",
        "triggerValue": 20,
        "message": "Your luck in finding rare items has awakened Treasure Sense!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Discovered through exceptional luck in finding rare treasures.",
        "category": "milestone_unlock",
        "note": "Changed from npc_purchase to milestone_unlock - now based on stat tracking"
      }
    },

    {
      "unlockId": "unlock_battle_fury",
      "skillId": "battle_fury",
      "unlockMethod": "milestone_unlock",

      "conditions": [
        {"type": "level", "min_level": 10},
        {"type": "stat", "stat_name": "STR", "min_value": 15},
        {"type": "stat_tracker", "stat_path": "combat_kills.total_kills", "min_value": 50}
      ],

      "unlockTrigger": {
        "type": "activity_threshold",
        "triggerValue": 50,
        "message": "Through countless battles, you've awakened Battle Fury!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Only those who have defeated many foes unlock this combat prowess.",
        "category": "milestone_unlock"
      }
    },

    {
      "unlockId": "unlock_keen_eye",
      "skillId": "keen_eye",
      "unlockMethod": "milestone_unlock",

      "conditions": [
        {"type": "level", "min_level": 8},
        {"type": "stat", "stat_name": "LCK", "min_value": 12},
        {"type": "stat_tracker", "stat_path": "gathering_totals.total_trees_chopped", "min_value": 100, "comment": "Using trees as proxy for gather_count - could use total_ores_mined or sum both"},
        {"type": "stat_tracker", "stat_path": "gathering_totals.total_ores_mined", "min_value": 100, "comment": "Alternative gathering metric - both must be met"}
      ],

      "unlockTrigger": {
        "type": "activity_threshold",
        "triggerValue": 200,
        "message": "Your experience gathering has sharpened your Keen Eye!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Veteran gatherers develop an eye for spotting rare materials.",
        "category": "milestone_unlock"
      }
    },

    {
      "unlockId": "unlock_chain_harvest",
      "skillId": "chain_harvest",
      "unlockMethod": "title_unlock",

      "conditions": [
        {"type": "level", "min_level": 15},
        {"type": "title", "required_title": "master_gatherer"}
      ],

      "unlockTrigger": {
        "type": "title_earned",
        "triggerValue": "master_gatherer",
        "message": "As a Master Gatherer, you've unlocked Chain Harvest!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Only Master Gatherers can perform this advanced technique.",
        "category": "title_unlock"
      }
    },

    {
      "unlockId": "unlock_whirlwind_strike",
      "skillId": "whirlwind_strike",
      "unlockMethod": "title_unlock",

      "conditions": [
        {"type": "level", "min_level": 15},
        {"type": "title", "required_title": "master_warrior"}
      ],

      "unlockTrigger": {
        "type": "title_earned",
        "triggerValue": "master_warrior",
        "message": "As a Master Warrior, you've unlocked Whirlwind Strike!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Only Master Warriors can execute this devastating attack.",
        "category": "title_unlock"
      }
    },

    {
      "unlockId": "unlock_master_craftsman",
      "skillId": "master_craftsman",
      "unlockMethod": "title_unlock",

      "conditions": [
        {"type": "level", "min_level": 20},
        {"type": "title", "required_title": "master_smith"}
      ],

      "unlockTrigger": {
        "type": "title_earned",
        "triggerValue": "master_smith",
        "message": "As a Master Smith, you've unlocked Master Craftsman!"
      },

      "cost": {
        "gold": 0,
        "materials": []
      },

      "metadata": {
        "narrative": "Only Master Smiths possess the skill to craft without failure.",
        "category": "title_unlock"
      }
    }
  ],

  "FIELD_DOCUMENTATION": {
    "unlockId": {
      "description": "Unique identifier for this unlock definition",
      "format": "unlock_{skill_name}",
      "required": true
    },

    "skillId": {
      "description": "References skillId from Skills/skills-skills-1.JSON",
      "required": true,
      "note": "This is the skill being unlocked"
    },

    "unlockMethod": {
      "description": "How this skill is unlocked",
      "options": ["automatic", "quest_reward", "npc_purchase", "milestone_unlock", "title_unlock", "skill_evolution", "discovery", "class_specific", "random_drop"],
      "required": true
    },

    "conditions": {
      "characterLevel": "Minimum level required",
      "stats": "Object like {strength: 5, luck: 10}",
      "titles": "Array of titleIds required",
      "completedQuests": "Array of questIds required",
      "activityMilestones": "Array of activity requirements"
    },

    "unlockTrigger": {
      "type": "When/how the unlock actually happens",
      "triggerValue": "Context-specific value (questId, npcId, level, etc)",
      "message": "Notification shown to player when unlocked"
    },

    "cost": {
      "gold": "Gold required to unlock",
      "materials": "Array of {materialId, quantity}",
      "skillPoints": "Special skill points if system uses them",
      "note": "Cost is paid AFTER conditions met"
    }
  },

  "USAGE_NOTES": {
    "flow": "Conditions met → Trigger occurs → Cost paid → Skill unlocked",
    "tracking": "Game constantly checks conditions, marks skills as 'unlockable'",
    "notifications": "UI shows unlock messages when skills become available",
    "integration": "Works with quest rewards, NPC services, and title systems"
  }
}
